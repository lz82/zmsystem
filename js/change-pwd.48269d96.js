(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["change-pwd"],{"1e63":function(e,t,n){"use strict";var r=n("d068"),o=n.n(r);o.a},"8d81":function(e,t,n){var r;(function(o){"use strict";function s(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function a(e,t){return e<<t|e>>>32-t}function l(e,t,n,r,o,l){return s(a(s(s(t,e),s(r,l)),o),n)}function i(e,t,n,r,o,s,a){return l(t&n|~t&r,e,t,o,s,a)}function c(e,t,n,r,o,s,a){return l(t&r|n&~r,e,t,o,s,a)}function d(e,t,n,r,o,s,a){return l(t^n^r,e,t,o,s,a)}function w(e,t,n,r,o,s,a){return l(n^(t|~r),e,t,o,s,a)}function u(e,t){var n,r,o,a,l;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var u=1732584193,f=-271733879,p=-1732584194,h=271733878;for(n=0;n<e.length;n+=16)r=u,o=f,a=p,l=h,u=i(u,f,p,h,e[n],7,-680876936),h=i(h,u,f,p,e[n+1],12,-389564586),p=i(p,h,u,f,e[n+2],17,606105819),f=i(f,p,h,u,e[n+3],22,-1044525330),u=i(u,f,p,h,e[n+4],7,-176418897),h=i(h,u,f,p,e[n+5],12,1200080426),p=i(p,h,u,f,e[n+6],17,-1473231341),f=i(f,p,h,u,e[n+7],22,-45705983),u=i(u,f,p,h,e[n+8],7,1770035416),h=i(h,u,f,p,e[n+9],12,-1958414417),p=i(p,h,u,f,e[n+10],17,-42063),f=i(f,p,h,u,e[n+11],22,-1990404162),u=i(u,f,p,h,e[n+12],7,1804603682),h=i(h,u,f,p,e[n+13],12,-40341101),p=i(p,h,u,f,e[n+14],17,-1502002290),f=i(f,p,h,u,e[n+15],22,1236535329),u=c(u,f,p,h,e[n+1],5,-165796510),h=c(h,u,f,p,e[n+6],9,-1069501632),p=c(p,h,u,f,e[n+11],14,643717713),f=c(f,p,h,u,e[n],20,-373897302),u=c(u,f,p,h,e[n+5],5,-701558691),h=c(h,u,f,p,e[n+10],9,38016083),p=c(p,h,u,f,e[n+15],14,-660478335),f=c(f,p,h,u,e[n+4],20,-405537848),u=c(u,f,p,h,e[n+9],5,568446438),h=c(h,u,f,p,e[n+14],9,-1019803690),p=c(p,h,u,f,e[n+3],14,-187363961),f=c(f,p,h,u,e[n+8],20,1163531501),u=c(u,f,p,h,e[n+13],5,-1444681467),h=c(h,u,f,p,e[n+2],9,-51403784),p=c(p,h,u,f,e[n+7],14,1735328473),f=c(f,p,h,u,e[n+12],20,-1926607734),u=d(u,f,p,h,e[n+5],4,-378558),h=d(h,u,f,p,e[n+8],11,-2022574463),p=d(p,h,u,f,e[n+11],16,1839030562),f=d(f,p,h,u,e[n+14],23,-35309556),u=d(u,f,p,h,e[n+1],4,-1530992060),h=d(h,u,f,p,e[n+4],11,1272893353),p=d(p,h,u,f,e[n+7],16,-155497632),f=d(f,p,h,u,e[n+10],23,-1094730640),u=d(u,f,p,h,e[n+13],4,681279174),h=d(h,u,f,p,e[n],11,-358537222),p=d(p,h,u,f,e[n+3],16,-722521979),f=d(f,p,h,u,e[n+6],23,76029189),u=d(u,f,p,h,e[n+9],4,-640364487),h=d(h,u,f,p,e[n+12],11,-421815835),p=d(p,h,u,f,e[n+15],16,530742520),f=d(f,p,h,u,e[n+2],23,-995338651),u=w(u,f,p,h,e[n],6,-198630844),h=w(h,u,f,p,e[n+7],10,1126891415),p=w(p,h,u,f,e[n+14],15,-1416354905),f=w(f,p,h,u,e[n+5],21,-57434055),u=w(u,f,p,h,e[n+12],6,1700485571),h=w(h,u,f,p,e[n+3],10,-1894986606),p=w(p,h,u,f,e[n+10],15,-1051523),f=w(f,p,h,u,e[n+1],21,-2054922799),u=w(u,f,p,h,e[n+8],6,1873313359),h=w(h,u,f,p,e[n+15],10,-30611744),p=w(p,h,u,f,e[n+6],15,-1560198380),f=w(f,p,h,u,e[n+13],21,1309151649),u=w(u,f,p,h,e[n+4],6,-145523070),h=w(h,u,f,p,e[n+11],10,-1120210379),p=w(p,h,u,f,e[n+2],15,718787259),f=w(f,p,h,u,e[n+9],21,-343485551),u=s(u,r),f=s(f,o),p=s(p,a),h=s(h,l);return[u,f,p,h]}function f(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function p(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function h(e){return f(u(p(e),8*e.length))}function g(e,t){var n,r,o=p(e),s=[],a=[];for(s[15]=a[15]=void 0,o.length>16&&(o=u(o,8*e.length)),n=0;n<16;n+=1)s[n]=909522486^o[n],a[n]=1549556828^o[n];return r=u(s.concat(p(t)),512+8*t.length),f(u(a.concat(r),640))}function m(e){var t,n,r="0123456789abcdef",o="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=r.charAt(t>>>4&15)+r.charAt(15&t);return o}function P(e){return unescape(encodeURIComponent(e))}function y(e){return h(P(e))}function v(e){return m(y(e))}function x(e,t){return g(P(e),P(t))}function b(e,t){return m(x(e,t))}function A(e,t,n){return t?n?x(t,e):b(t,e):n?y(e):v(e)}r=function(){return A}.call(t,n,t,e),void 0===r||(e.exports=r)})()},9998:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"change-pwd-wrapper"},[n("div",{staticClass:"container"},[n("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.showSuccess,expression:"showSuccess"}],attrs:{title:"密码修改成功，将在"+e.sec+"秒后自动退出登录",type:"success"}}),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[n("i",{staticClass:"el-icon-lock",staticStyle:{"font-size":"40px"}})])],1),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{span:8}},[n("el-form",{ref:"form",attrs:{"label-position":"top",model:e.model,rules:e.rules}},[n("el-form-item",{attrs:{label:"老密码:",prop:"oldPwd"}},[n("el-input",{staticClass:"form-input",attrs:{type:e.passwordType},model:{value:e.model.oldPwd,callback:function(t){e.$set(e.model,"oldPwd",t)},expression:"model.oldPwd"}},[n("i",{staticClass:"el-icon-yg-eye icon el-input__icon",attrs:{slot:"suffix"},on:{click:e.changePwdType},slot:"suffix"})])],1),n("el-form-item",{attrs:{label:"新密码:",prop:"newPwd"}},[n("el-input",{staticClass:"form-input",attrs:{type:e.newPwdType},model:{value:e.model.newPwd,callback:function(t){e.$set(e.model,"newPwd",t)},expression:"model.newPwd"}},[n("i",{staticClass:"el-icon-yg-eye icon el-input__icon",attrs:{slot:"suffix"},on:{click:e.changeNewPwdType},slot:"suffix"})])],1),n("el-form-item",{attrs:{label:"再次输入新密码:",prop:"newPwdAg"}},[n("el-input",{staticClass:"form-input",attrs:{type:e.newPwdAgType},model:{value:e.model.newPwdAg,callback:function(t){e.$set(e.model,"newPwdAg",t)},expression:"model.newPwdAg"}},[n("i",{staticClass:"el-icon-yg-eye icon el-input__icon",attrs:{slot:"suffix"},on:{click:e.changeNewPwdAgType},slot:"suffix"})])],1)],1)],1)],1),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-col",{staticClass:"btn",attrs:{span:8}},[n("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("保存")])],1)],1)],1)])},o=[],s=(n("6b54"),n("1da1")),a=n("8e44"),l=n("8d81"),i=n.n(l),c={name:"ChangePwd",data(){let e=(e,t,n)=>{""===t?n(new Error("请输入老密码")):(""!==this.model.newPwd&&this.$refs.form.validateField("newPwd"),n())},t=(e,t,n)=>{if(""===t)n(new Error("请输入新密码"));else{this.model.oldPwd&&t===this.model.oldPwd&&n(new Error("新老密码不能一致"));const e=/^[a-zA-Z0-9]{6,12}$/;e.test(t)?(""!==this.model.newPwdAg&&this.$refs.form.validateField("newPwdAg"),n()):n(new Error("请输入6-12位字母/数字"))}},n=(e,t,n)=>{""===t?n(new Error("请再次输入新密码")):t!==this.model.newPwd?n(new Error("新密码不一致")):n()};return{passwordType:"password",newPwdType:"password",newPwdAgType:"password",showSuccess:!1,sec:5,model:{oldPwd:"",newPwd:"",newPwdAg:""},rules:{oldPwd:[{validator:e,trigger:"blur"}],newPwd:[{validator:t,trigger:"blur"}],newPwdAg:[{validator:n,trigger:"blur"}]}}},methods:{changePwdType(){this.passwordType="text"===this.passwordType?"password":"text"},changeNewPwdType(){this.newPwdType="text"===this.newPwdType?"password":"text"},changeNewPwdAgType(){this.newPwdAgType="text"===this.newPwdAgType?"password":"text"},onSave(){var e=this;return Object(s["a"])((function*(){e.$refs.form.validate(function(){var t=Object(s["a"])((function*(t){if(t){const t={oldPassword:i()(e.model.oldPwd),newPassword:i()(e.model.newPwd),userId:""};try{yield a["b"].changePwd(t),e.showSuccess=!0,setInterval(()=>{e.sec=e.sec-1>=0?e.sec-1:0},1e3),setTimeout(()=>{e.$store.dispatch("logOut").then(()=>{location.reload()})},5e3)}catch(n){e.$message.error(n.toString())}}}));return function(e){return t.apply(this,arguments)}}())}))()}}},d=c,w=(n("1e63"),n("2877")),u=Object(w["a"])(d,r,o,!1,null,"f1218b1c",null);t["default"]=u.exports},d068:function(e,t,n){}}]);