(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["change-pwd"],{"1e63":function(e,t,n){"use strict";var r=n("d068"),o=n.n(r);o.a},"8d81":function(e,t,n){var r;(function(o){"use strict";function s(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function a(e,t){return e<<t|e>>>32-t}function i(e,t,n,r,o,i){return s(a(s(s(t,e),s(r,i)),o),n)}function c(e,t,n,r,o,s,a){return i(t&n|~t&r,e,t,o,s,a)}function l(e,t,n,r,o,s,a){return i(t&r|n&~r,e,t,o,s,a)}function u(e,t,n,r,o,s,a){return i(t^n^r,e,t,o,s,a)}function d(e,t,n,r,o,s,a){return i(n^(t|~r),e,t,o,s,a)}function w(e,t){var n,r,o,a,i;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var w=1732584193,f=-271733879,p=-1732584194,h=271733878;for(n=0;n<e.length;n+=16)r=w,o=f,a=p,i=h,w=c(w,f,p,h,e[n],7,-680876936),h=c(h,w,f,p,e[n+1],12,-389564586),p=c(p,h,w,f,e[n+2],17,606105819),f=c(f,p,h,w,e[n+3],22,-1044525330),w=c(w,f,p,h,e[n+4],7,-176418897),h=c(h,w,f,p,e[n+5],12,1200080426),p=c(p,h,w,f,e[n+6],17,-1473231341),f=c(f,p,h,w,e[n+7],22,-45705983),w=c(w,f,p,h,e[n+8],7,1770035416),h=c(h,w,f,p,e[n+9],12,-1958414417),p=c(p,h,w,f,e[n+10],17,-42063),f=c(f,p,h,w,e[n+11],22,-1990404162),w=c(w,f,p,h,e[n+12],7,1804603682),h=c(h,w,f,p,e[n+13],12,-40341101),p=c(p,h,w,f,e[n+14],17,-1502002290),f=c(f,p,h,w,e[n+15],22,1236535329),w=l(w,f,p,h,e[n+1],5,-165796510),h=l(h,w,f,p,e[n+6],9,-1069501632),p=l(p,h,w,f,e[n+11],14,643717713),f=l(f,p,h,w,e[n],20,-373897302),w=l(w,f,p,h,e[n+5],5,-701558691),h=l(h,w,f,p,e[n+10],9,38016083),p=l(p,h,w,f,e[n+15],14,-660478335),f=l(f,p,h,w,e[n+4],20,-405537848),w=l(w,f,p,h,e[n+9],5,568446438),h=l(h,w,f,p,e[n+14],9,-1019803690),p=l(p,h,w,f,e[n+3],14,-187363961),f=l(f,p,h,w,e[n+8],20,1163531501),w=l(w,f,p,h,e[n+13],5,-1444681467),h=l(h,w,f,p,e[n+2],9,-51403784),p=l(p,h,w,f,e[n+7],14,1735328473),f=l(f,p,h,w,e[n+12],20,-1926607734),w=u(w,f,p,h,e[n+5],4,-378558),h=u(h,w,f,p,e[n+8],11,-2022574463),p=u(p,h,w,f,e[n+11],16,1839030562),f=u(f,p,h,w,e[n+14],23,-35309556),w=u(w,f,p,h,e[n+1],4,-1530992060),h=u(h,w,f,p,e[n+4],11,1272893353),p=u(p,h,w,f,e[n+7],16,-155497632),f=u(f,p,h,w,e[n+10],23,-1094730640),w=u(w,f,p,h,e[n+13],4,681279174),h=u(h,w,f,p,e[n],11,-358537222),p=u(p,h,w,f,e[n+3],16,-722521979),f=u(f,p,h,w,e[n+6],23,76029189),w=u(w,f,p,h,e[n+9],4,-640364487),h=u(h,w,f,p,e[n+12],11,-421815835),p=u(p,h,w,f,e[n+15],16,530742520),f=u(f,p,h,w,e[n+2],23,-995338651),w=d(w,f,p,h,e[n],6,-198630844),h=d(h,w,f,p,e[n+7],10,1126891415),p=d(p,h,w,f,e[n+14],15,-1416354905),f=d(f,p,h,w,e[n+5],21,-57434055),w=d(w,f,p,h,e[n+12],6,1700485571),h=d(h,w,f,p,e[n+3],10,-1894986606),p=d(p,h,w,f,e[n+10],15,-1051523),f=d(f,p,h,w,e[n+1],21,-2054922799),w=d(w,f,p,h,e[n+8],6,1873313359),h=d(h,w,f,p,e[n+15],10,-30611744),p=d(p,h,w,f,e[n+6],15,-1560198380),f=d(f,p,h,w,e[n+13],21,1309151649),w=d(w,f,p,h,e[n+4],6,-145523070),h=d(h,w,f,p,e[n+11],10,-1120210379),p=d(p,h,w,f,e[n+2],15,718787259),f=d(f,p,h,w,e[n+9],21,-343485551),w=s(w,r),f=s(f,o),p=s(p,a),h=s(h,i);return[w,f,p,h]}function f(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function p(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function h(e){return f(w(p(e),8*e.length))}function g(e,t){var n,r,o=p(e),s=[],a=[];for(s[15]=a[15]=void 0,o.length>16&&(o=w(o,8*e.length)),n=0;n<16;n+=1)s[n]=909522486^o[n],a[n]=1549556828^o[n];return r=w(s.concat(p(t)),512+8*t.length),f(w(a.concat(r),640))}function m(e){var t,n,r="0123456789abcdef",o="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=r.charAt(t>>>4&15)+r.charAt(15&t);return o}function P(e){return unescape(encodeURIComponent(e))}function v(e){return h(P(e))}function y(e){return m(v(e))}function x(e,t){return g(P(e),P(t))}function b(e,t){return m(x(e,t))}function A(e,t,n){return t?n?x(t,e):b(t,e):n?v(e):y(e)}r=function(){return A}.call(t,n,t,e),void 0===r||(e.exports=r)})()},9998:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"change-pwd-wrapper"},[n("div",{staticClass:"container"},[n("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.showSuccess,expression:"showSuccess"}],attrs:{title:"密码修改成功，将在"+e.sec+"秒后自动退出登录",type:"success"}}),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[n("i",{staticClass:"el-icon-lock",staticStyle:{"font-size":"40px"}})])],1),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{span:8}},[n("el-form",{ref:"form",attrs:{"label-position":"top",model:e.model,rules:e.rules}},[n("el-form-item",{attrs:{label:"老密码:",prop:"oldPwd"}},[n("el-input",{staticClass:"form-input",attrs:{type:e.passwordType},model:{value:e.model.oldPwd,callback:function(t){e.$set(e.model,"oldPwd",t)},expression:"model.oldPwd"}},[n("i",{staticClass:"el-icon-yg-eye icon el-input__icon",attrs:{slot:"suffix"},on:{click:e.changePwdType},slot:"suffix"})])],1),n("el-form-item",{attrs:{label:"新密码:",prop:"newPwd"}},[n("el-input",{staticClass:"form-input",attrs:{type:e.newPwdType},model:{value:e.model.newPwd,callback:function(t){e.$set(e.model,"newPwd",t)},expression:"model.newPwd"}},[n("i",{staticClass:"el-icon-yg-eye icon el-input__icon",attrs:{slot:"suffix"},on:{click:e.changeNewPwdType},slot:"suffix"})])],1),n("el-form-item",{attrs:{label:"再次输入新密码:",prop:"newPwdAg"}},[n("el-input",{staticClass:"form-input",attrs:{type:e.newPwdAgType},model:{value:e.model.newPwdAg,callback:function(t){e.$set(e.model,"newPwdAg",t)},expression:"model.newPwdAg"}},[n("i",{staticClass:"el-icon-yg-eye icon el-input__icon",attrs:{slot:"suffix"},on:{click:e.changeNewPwdAgType},slot:"suffix"})])],1)],1)],1)],1),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-col",{staticClass:"btn",attrs:{span:8}},[n("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("保存")])],1)],1)],1)])},o=[],s=(n("6b54"),n("96cf"),n("3b8d")),a=n("8e44"),i=n("8d81"),c=n.n(i),l={name:"ChangePwd",data:function(){var e=this,t=function(t,n,r){""===n?r(new Error("请输入老密码")):(""!==e.model.newPwd&&e.$refs.form.validateField("newPwd"),r())},n=function(t,n,r){if(""===n)r(new Error("请输入新密码"));else{e.model.oldPwd&&n===e.model.oldPwd&&r(new Error("新老密码不能一致"));var o=/^[a-zA-Z0-9]{6,12}$/;o.test(n)?(""!==e.model.newPwdAg&&e.$refs.form.validateField("newPwdAg"),r()):r(new Error("请输入6-12位字母/数字"))}},r=function(t,n,r){""===n?r(new Error("请再次输入新密码")):n!==e.model.newPwd?r(new Error("新密码不一致")):r()};return{passwordType:"password",newPwdType:"password",newPwdAgType:"password",showSuccess:!1,sec:5,model:{oldPwd:"",newPwd:"",newPwdAg:""},rules:{oldPwd:[{validator:t,trigger:"blur"}],newPwd:[{validator:n,trigger:"blur"}],newPwdAg:[{validator:r,trigger:"blur"}]}}},methods:{changePwdType:function(){this.passwordType="text"===this.passwordType?"password":"text"},changeNewPwdType:function(){this.newPwdType="text"===this.newPwdType?"password":"text"},changeNewPwdAgType:function(){this.newPwdAgType="text"===this.newPwdAgType?"password":"text"},onSave:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.form.validate(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=14;break}return r={oldPassword:c()(t.model.oldPwd),newPassword:c()(t.model.newPwd),userId:""},e.prev=2,e.next=5,a["b"].changePwd(r);case 5:t.showSuccess=!0,setInterval((function(){t.sec=t.sec-1>=0?t.sec-1:0}),1e3),setTimeout((function(){t.$store.dispatch("logOut").then((function(){location.reload()}))}),5e3),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),t.$message.error(e.t0.toString());case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},u=l,d=(n("1e63"),n("2877")),w=Object(d["a"])(u,r,o,!1,null,"f1218b1c",null);t["default"]=w.exports},d068:function(e,t,n){}}]);